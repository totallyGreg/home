#autoload
# Herald: Utility functions for colorized console output and macOS system logging
#
# Usage:
#   source herald (or autoload with fpath)
#   ok "Success message"
#   warn "Warning message"
#   error "Error message"
#
# Multiple functions will not load until parent function is called

# Print success message in green to stdout
function ok() {
  print -P '%F{green}'"$1"'%f'
}

# Print warning message in yellow to stderr
function warn() {
  print -P '%F{yellow}'"$1"'%f' >&2
}

# Print error message in red to stderr and log to macOS system log
# Logs to user.notice facility by default
function error() {
  print -P '%F{red}ERROR: '"$1"'%f' >&2
  logger "$1"
}

# Execute the requested function with arguments
"${@}"
# vim: ft=zsh

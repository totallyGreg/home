#!/bin/bash
#echo "sourcing .functions"

setenv()
{
	export $1="$2"
}
unsetenv()
{
	unset $1
}


# display man pages in web browser
function wman() {
   url="man -w ${1} | sed 's#.*\(${1}.\)\([[:digit:]]\).*\$#http://developer.apple.com/documentation/Darwin/Reference/ManPages/man\2/\1\2.html#'"
   open `eval $url`
}

# Growl function for iTerm 
growl() { echo -e $'\e]9;'${1}'\007' ; return ; }

#display man pages in Preview.app
pman() { 
	man -t "$@" | open -f -a Preview
}

settitle()
{
    case "$TERM" in
	xterm* )
	    echo -ne '\e]0;'"$@"'\a'
	    ;;
	screen)
	    echo -ne '\ek'"$@"'\e\\'
	    ;;
    esac
}


##------------------------------------ ##
 #           -- new-alias --           #
 # creates new alias & writes to file  #
 #          $1 = alias new             #
 #          $2 = alias definition      #
##------------------------------------ ##
new-alias () { 
  if [ -z "$1" ]; then
    echo "alias name:"
    read NAME
  else
    NAME=$1
  fi

  if [ -z "$2" ]; then
    echo "alias definition:"
    read DEFINTION
  else
    if [ "$2" = "-cd" ]; then
      DEFINTION='cd '
    else
      DEFINTION=$2
    fi
  fi

  echo "alias $NAME='$DEFINTION'" >> ~/.aliases
  . ~/.aliases
}

save-alias () {
  new_alias="$(alias | grep $1)"
  echo ${new_alias} >> ~/.aliases
}
